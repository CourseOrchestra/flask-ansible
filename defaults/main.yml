---
python_version: 3.7.17
python_version_short: "{{ '.'.join(python_version.split('.')[:-1]) }}"

flaskapp_name: flask

flask_root_dir: /opt/api
flask_log_dir: /var/log/{{ flaskapp_name }}

flask_user: flask

flaskapp_port: 5000
workers_num: 4
numprocs: 1

virtualenv: virtualenv

sources_url: https://github.com/sdhutchins/flask-demo.git
checkout_style: git

flask_environment:
  FLASK_CONFIG: production
  APP_PORT: "{{ flaskapp_port }}"
  FLASK_APP: run

webapp_command: "/bin/bash -c 'source venv/bin/activate && gunicorn {{ flask_environment.FLASK_APP }} -b 0.0.0.0:{{ flaskapp_port }} --limit-request-line 0 --timeout 600 --workers {{ workers_num }}'"

flask_db_migrate: false
